<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=author content="Nathan Rooy"><meta name=copyright content="Nathan A. Rooy"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=language content="en"><link rel=icon type=image/png href=/favicon/favicon.png><meta name=google-site-verification content="vQ6uvoBDOPVq7u67m2fO8RWaxcqsoLrLzmR7CzEo-0k"><title>LongTinyLoop: Attempt #1</title><link rel=canonical href=https://nathanrooy.github.io/posts/2021-04-03/longtinyloop-attempt-1/ itemprop=url><base href=https://nathanrooy.github.io/posts/2021-04-03/longtinyloop-attempt-1/><meta itemprop=name content="LongTinyLoop: Attempt #1 | Nathan Rooy"><meta itemprop=description content="My first attempt at LongTinyLoop"><meta name=description content="My first attempt at LongTinyLoop"><meta name=application-name content="LongTinyLoop: Attempt #1 | Nathan Rooy"><meta name=keywords content="longtinyloop,long tiny loop,biking,maps"><meta name=twitter:card content="nathanrooy.github.io"><meta name=twitter:url content="https://nathanrooy.github.io/posts/2021-04-03/longtinyloop-attempt-1/"><meta name=twitter:title content="LongTinyLoop: Attempt #1 | Nathan Rooy"><meta name=twitter:description content="My first attempt at LongTinyLoop"><meta property="og:title" content="LongTinyLoop: Attempt #1"><meta property="og:description" content="My first attempt at LongTinyLoop"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:url" content="https://nathanrooy.github.io/posts/2021-04-03/longtinyloop-attempt-1/"><meta property="og:site_name" content="nathanrooy.github.io"><meta itemprop=image content="https://nathanrooy.github.io/posts/2021-04-03/longtinyloop-attempt-1/my-ltl-close.png"><meta property="og:image" content="https://nathanrooy.github.io/posts/2021-04-03/longtinyloop-attempt-1/my-ltl-close.png"><meta name=twitter:image content="https://nathanrooy.github.io/posts/2021-04-03/longtinyloop-attempt-1/my-ltl-close.png"><meta name=twitter:image:src content="https://nathanrooy.github.io/posts/2021-04-03/longtinyloop-attempt-1/my-ltl-close.png"><link rel=alternate type=application/rss+xml href=https://nathanrooy.github.io/index.xml title="Nathan Rooy"><link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://nathanrooy.github.io/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://nathanrooy.github.io/css/main.css></head><body><div class="container wrapper post"><div class=header><div style=width:100%;display:inline class=site-title><h1 style=display:inline><a href=https://nathanrooy.github.io/>Nathan Rooy</a></h1><a style=float:right;padding-left:10px;display:inline target=_blank href=/index.xml title=rss><img style=margin:0;padding-top:1.2em src=/icons/rss_feather.svg width=20 height=20></a>
<a style=float:right;padding-left:10px;display:inline target=_blank href=https://github.com/nathanrooy/ title=github><img style=margin:0;padding-top:1.2em src=/icons/github_feather.svg width=20 height=20></a></div><hr style=width:100%;display:inline-block><nav class=nav><ul class=flat><li style=text-align:center;vertical-align:top><a href=/><img height=20px style=margin:0;padding:0 src=/icons/home_feather.svg></a></li><li style=text-align:center;vertical-align:top><a href=/about><img height=20px style=margin:0;padding:0 src=/icons/user_feather.svg></a></li><li style=text-align:center;vertical-align:top><a href=/nyc_biking><img height=20px style=margin:0;padding:0 src=/icons/bicycle.svg></a></li><li><a href=/favorites><img height=20px style=margin:0;padding:0 src=/icons/trending-up_feather.svg></a></li></ul></nav></div><div class=post-header><h1 class=title>LongTinyLoop: Attempt #1</h1><div class=meta>Posted: April 3, 2021</div></div><div class=markdown><h3 id=introduction>Introduction</h3><p>Iâ€™m not exactly sure how I initially came across <a target=_blank href=https://longtinyloop.com/>LongTinyLoop</a>, but all I know is that it checks all the right boxes for me. It involves bikes, maps, algorithms, and itâ€™s a competition! So what is LongTinyLoop? Itâ€™s a challenge to travel the longest path, while both minimizing the overall footprint and not breaking the following rules (taken directly from <a target=_blank href=https://longtinyloop.com/faq>here</a>):</p><ol><li>Neglecting to follow established roads and trails (e.g. running around a large empty field)</li><li>Returning to an intersection youâ€™ve already passed through (even at an opposite corner)</li><li>Running the same section of road twice (even on opposite sides)</li><li>Excessive weaving (e.g. multiple unnecessary street crossings)</li><li>Ending the loop more than 100 meters from where it began</li></ol><p>Given this simple rule set, the results tend to yield some really interesting forms often resembling those derived from <a target=_blank href=https://en.wikipedia.org/wiki/Space-filling_curve>space-filling curves</a>.</p><style>@media only screen and (min-width:501px){.img-grid{display:grid;grid-template-columns:1fr 1fr;row-gap:.5em;column-gap:.5em}@media only screen and (max-width:500px){.img-grid{display:grid;grid-template-columns:1fr;row-gap:.5em;column-gap:.5em}}.img-grid img{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0}}</style><div class=img-grid><img width=100%; src=4234745753_300x300.png>
<img width=100%; src=4274168837_300x300.png>
<img width=100%; src=4404329253_300x300.png>
<img width=100%; src=4936423662_300x300.png></div><h3 id=path-design>Path design</h3><p>I created my initial route in <a target=_blank href=https://github.com/qgis/QGIS>QGIS</a> and was really just aiming for a first place position with a score greater than 30.0 and ideally a total distance of less than 70 miles. Not much time was spent optimizing the route other than trying to keep it roughly circular. I did end up writing a quick Python plugin for QGIS which allowed me to instantly calculate the path length, convex hull, <a target=_blank href=https://en.wikipedia.org/wiki/Rotating_calipers>rotating calipers distance</a>, and LongTinyLoop score for a selected path. I then made this accessible via a keyboard shortcut which helped me quickly iterate through potential designs. Ok, I may have spent a <i>little</i> time optimizing the route, but the whole thing took less than a single weekendâ€¦ Anyway, the final route had a LongTinyLoop score of 30.2 and a length 66.7 miles.</p><h3 id=attempt-1>Attempt #1</h3><p>Once the design was finalized in QGIS, I exported the route to a <a target=_blank href=https://en.wikipedia.org/wiki/GPS_Exchange_Format>GPX</a> file so that it could be loaded into Google Maps. I then bought a phone mount for my handlebars for easy hands free navigation. It ended up working pretty good. Below is the path as recorded by my phone.</p><figure><img src=my-ltl-close.png></figure><p>Just for some perspective, here&rsquo;s what it looks like from a slightly higher altitude which includes the rest of Brooklyn and the southern end of Manhattan</p><figure><img src=my-ltl-far.svg></figure><p>Overall I was able to follow the route nearly perfectly, keyword here being <i>nearly</i>. Within the lower region of the route, there were two narrow back alleys I was planning on traversing however they were both blocked by a locked gate. I ended up getting super lucky in that I could simply cut these minor loops out of the overall path without too much of a penalty and without violating any of the LongTinyLoop rules. Annoyingly though, these two path deviations reduced my final score to 29.75 causing me to just fall short of my goal of getting a 30.0 or higher. ðŸ˜ž</p><figure><img src=blocked-roads-650x400.png></figure><p>In the future, I&rsquo;ll make sure to check the route with Google Street View prior to actually going out! On second thought, I&rsquo;ll just limit the next path to actual roads instead. The anxiety that builds up after 4 hrs of tediously following a path and wondering if the next turn will jeopardize the entire operation is substantial. ðŸ˜‚</p><figure><img src=ltl-screenshot.png></figure><h3 id=things-im-trying-next>Things Iâ€™m trying next</h3><p>There exists a massive body of literature on computing the shortest path for obvious reasons, the <i>longest path</i> though? Not so muchâ€¦ Actually, there is almost nothing I could find which makes this almost more fun. Iâ€™ve already coded out two approaches, one using a reverse <a target=_blank href=https://nathanrooy.github.io/posts/2020-05-14/simulated-annealing-with-python/>simulated annealing</a> method and the other based on <a target=_blank href=https://nathanrooy.github.io/posts/2017-08-27/simple-differential-evolution-with-python/>differential evolution</a>. Both are producing decent results but I can already tell that theyâ€™ll need some work. Given the nature of this problem, the search space very quickly becomes intractable. A way to accurately and efficiently eliminate large swaths of the domain will be needed to suppress the combinatorial explosion that inevitably happens. Could this finally be the excuse Iâ€™ve been looking for to fall down a <a target=_blank href=https://github.com/dmlc/dgl>geometric deep learning</a> rabbit hole?
ðŸ¤žðŸ˜ˆðŸ¤ž</p><p>I&rsquo;ve also noticed that the paths generated via algorithmic means tend to include <i>way</i> more turning. Since I don&rsquo;t currently price in turning, it&rsquo;s not seen as a liability or the potential time suck they can be. Depending on traffic, I don&rsquo;t usually stop at intersections, but those left-hand turns across large intersections do add up. There is a definite tradeoff between path complexity and speed/mental state. A sub-optimal route with less turning might actually be optimal&mldr; Anyway, I do know that my next attempt will start in the evening and go into the early morning when the city is quiet and the roads are empty.</p><p>Thanks for reading!</p><p>- Nathan</p></div><hr></div><div class=footer><center>&copy; <a href=/about>Nathan A. Rooy</a>.<br>Built with <a target=_blank href=https://gohugo.io/ rel=nofollow>Hugo</a>.
Powered by <a target=_blank href=http://www.github.com>GitHub</a></center></div></body></html>