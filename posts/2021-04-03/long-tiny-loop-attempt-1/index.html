<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=author content="Nathan Rooy"><meta name=copyright content="Nathan A. Rooy"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=language content="en"><meta http-equiv=content-language content="en-gb"><link rel=icon type=image/png href=/favicon/favicon.png><script defer data-domain=nathanrooy.github.io src=https://plausible.io/js/plausible.js></script><script>window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script><meta property="og:title" content="Long Tiny Loop: Attempt #1"><meta property="og:description" content="My first attempt at Long Tiny Loop"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:url" content="https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/"><meta property="og:site_name" content="nathanrooy.github.io"><meta property="og:image" content="https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/my-ltl-close.png"><title>Long Tiny Loop: Attempt #1</title><link rel=canonical href=https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/ itemprop=url><base href=https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/><meta itemprop=name content="Long Tiny Loop: Attempt #1 | Nathan Rooy"><meta itemprop=description content="My first attempt at Long Tiny Loop"><meta itemprop=image content="https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/my-ltl-close.png"><meta name=description content="My first attempt at Long Tiny Loop"><meta name=application-name content="Long Tiny Loop: Attempt #1 | Nathan Rooy"><meta name=keywords content="longtinyloop,,long,tiny,loop,,biking,,maps"><meta name=twitter:card content="nathanrooy.github.io"><meta name=twitter:url content="https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/"><meta name=twitter:title content="Long Tiny Loop: Attempt #1 | Nathan Rooy"><meta name=twitter:description content="My first attempt at Long Tiny Loop"><meta name=twitter:image content="https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/my-ltl-close.png"><link rel=alternate type=application/rss+xml href=https://nathanrooy.github.io/index.xml title="Nathan Rooy"><style>/*!normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css*/html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:initial}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}:root{--main-text-color:#222;--main-text-weight:400;--text-bold:600;--font-family:"Figtree", sans-serif}body{-webkit-font-smoothing:antialiased}@font-face{font-family:figtree;font-style:normal;font-weight:400;font-display:swap;src:url(/fonts/figtree-v1-latin-regular.eot);src:local(''),url(/fonts/figtree-v1-latin-regular.eot?#iefix)format('embedded-opentype'),url(/fonts/figtree-v1-latin-regular.woff2)format('woff2'),url(/fonts/figtree-v1-latin-regular.woff)format('woff'),url(/fonts/figtree-v1-latin-regular.ttf)format('truetype'),url(/fonts/figtree-v1-latin-regular.svg#Figtree)format('svg')}@font-face{font-family:figtree;font-style:normal;font-weight:600;font-display:swap;src:url(/fonts/figtree-v1-latin-600.eot);src:local(''),url(/fonts/figtree-v1-latin-600.eot?#iefix)format('embedded-opentype'),url(/fonts/figtree-v1-latin-600.woff2)format('woff2'),url(/fonts/figtree-v1-latin-600.woff)format('woff'),url(/fonts/figtree-v1-latin-600.ttf)format('truetype'),url(/fonts/figtree-v1-latin-600.svg#Figtree)format('svg')}.home-page{font-family:var(--font-family);color:var(--main-text-color);margin-top:0}.home-page ul li{margin-bottom:.3rem}.home-page ul a{color:var(--main-text-color)}.post-li-title{width:95%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;float:left}.post-li-date{float:left;padding-bottom:1em;font-size:16px;color:#a9a9a9}@media only screen and (min-width:501px){.wrapper{max-width:660px;margin:0 auto;padding:1rem}.container{margin-top:10rem}.post-li-title{font-size:19px}.post-ul{list-style-type:none;padding-left:0;list-style:none;line-height:1.6em;margin-top:0}.post-li{overflow:hidden}}@media only screen and (max-width:950px){.container{margin-top:0}}@media only screen and (max-width:500px){.wrapper{margin:0 auto}.container{margin:2rem 1rem 1rem}.post-ul{list-style-type:none;padding-left:0;list-style:none;line-height:1.5em;margin-top:.2rem}.post-li{overflow:hidden}}.nyc-progress-image{margin-top:-1rem}.strava-grid{padding-top:1rem}.language-python{font-size:.8rem;line-height:0}.highlight{margin-bottom:1rem}.personal-social-media{text-align:center}.personal-social-media a{display:inline-block;padding-left:5px;padding-right:5px}.about h3{margin-top:0;padding-top:0}.about li{margin-bottom:0;padding-bottom:0}.about-ul li{margin-bottom:.5rem}footer{padding-bottom:6rem;font-family:var(--font-family);font-size:.75em;color:#999;margin-top:3rem;line-height:1.2rem}footer a{color:#555;font-weight:var(--main-text-weight)}footer a:hover{text-decoration:underline;color:#555}footer a:visited{color:#555}.footnotes{line-height:1rem;font-size:15px;margin-top:1em}.footnotes hr{display:none}.footnotes li p{line-height:1rem;margin-bottom:0}.footnotes ol{list-style:none;counter-reset:list;padding-left:2.5em;font-size:15px}.footnotes ol>li{list-style:none;position:relative}.footnotes ol>li:before{counter-increment:list;content:"[" counter(list)"] ";position:absolute;left:-2.5em;font-size:15px}ul.flat{margin:0;padding:0}ul.flat li{display:inline-block;list-style:none;margin-left:0}.markdown .post-update{background-color:#f2f2f2;border-left:10px solid;border-color:#e74c3c;padding-top:1.5rem;padding-left:1.5rem;padding-bottom:1.5rem;padding-right:1.5rem;margin-top:1rem;margin-left:0;margin-right:0;margin-bottom:2rem;line-height:1.5rem;font-weight:var(--main-text-weight);font-size:15px}.highlighter-rouge{position:relative;font-size:.75rem;color:var(--main-text-color);border:1px solid;border-color:#e6e6e6;border-radius:3px;background-color:#f2f2f2;padding:.1rem .2rem}.figcaption{font-size:.8rem;padding-bottom:1rem}.markdown .photoset-grid-lightbox{margin-bottom:1rem}.markdown{font-family:var(--font-family);color:var(--main-text-color);padding-bottom:3rem}.markdown ol{font-weight:var(--main-text-weight);font-size:16px;margin-top:0;padding-bottom:0;line-height:1.2rem;padding-right:2em;width:85%;margin-block-end:.25em}.markdown ol li{padding-bottom:.75em}.markdown p{font-weight:var(--main-text-weight);font-size:16px;margin-top:0;margin-bottom:1rem;line-height:1.7rem;letter-spacing:.02rem}.markdown blockquote{background-color:#f2f2f2;border-left:10px solid;border-color:#2dad60;padding-top:1.5rem;padding-left:1.5rem;padding-bottom:1.5rem;padding-right:1.5rem;margin-top:0;margin-left:0;margin-right:0;margin-bottom:1rem;line-height:1.5rem;font-weight:var(--main-text-weight);font-size:15px}.markdown blockquote p{margin-bottom:0}.markdown h2{font-family:figtree;font-size:1.1rem;font-weight:var(--text-bold);margin-bottom:.4em}*+h2{padding-top:2rem}.markdown .ul-style-b li{margin-bottom:.5rem;font-size:16px}.TLDR{font-family:var(--font-family);padding-top:0;margin-top:0;padding-bottom:4rem;margin-bottom:0;font-size:1.1rem;line-height:1.7rem;font-weight:var(--main-text-weight);letter-spacing:.02rem}table{width:100%;font-size:14px;letter-spacing:-.01em;border-collapse:collapse;margin-bottom:2em;margin-top:2em;font-weight:var(--main-text-weight);line-height:1.2rem}table th{text-align:left}table thead{border-bottom:1px solid var(--main-text-color);line-height:1.4em}.post-header h1{font-weight:var(--main-text-weight);font-size:2rem;font-family:var(--font-family);color:var(--main-text-color);line-height:2.4rem}.post ul li{margin-bottom:10px}.post ul li p{display:inline}.post .post-header{margin-bottom:5rem}.post .post-header .title{margin:0}.post .post-header .meta{padding-left:0;margin-top:10px}.post .post-header a{color:#999}.post .post-header a:hover{text-decoration:underline}.post .post-header a:visited{color:#999}.separator{display:flex;align-items:center;text-align:center}.separator::before,.separator::after{content:'';flex:1;border-bottom:1px solid #000}.separator:not(:empty)::before{margin-right:.25em}.separator:not(:empty)::after{margin-left:.25em}a{text-decoration:none;color:#0955b5}a:hover{text-decoration:underline}a:visited{color:#205caa}::selection{background:#fff9c4;text-shadow:none}img{margin:1.5em auto;max-width:100%;display:block}a img{border:none}figure{margin:0;text-align:center}ul{padding-left:15px}ul{list-style:disc inside}.markdown ul li{font-size:15px}.highlight pre{margin-bottom:0;margin-top:0;padding:20px;background-color:initial!important;overflow:auto;word-wrap:normal;white-space:pre}.highlight{background:0 0;background-color:#fafafa}.meta{font-family:var(--font-family);font-size:.8rem;color:#999;margin-bottom:4px}.list .posts .post .meta{margin-bottom:0;margin-left:5px}.markdown .photoset-grid-lightbox{margin-bottom:1rem}table .katex-display{margin-top:.2rem;margin-bottom:.2rem}.post ul li .katex-display{display:inline-block;list-style:none;margin-left:0;margin-bottom:0;line-height:0;padding:0}@media only screen and (min-width:501px){#burger{padding-left:2rem;padding-top:2rem}}@media only screen and (max-width:950px){#burger{padding-left:1rem;padding-top:1rem;padding-bottom:1.5rem}}@media only screen and (max-width:500px){#burger{padding-left:1rem;padding-top:1rem}}#burger{font-family:var(--font-family);font-weight:400;color:#a9a9a9;font-size:1.5rem}#burger a{display:inline-block;padding-right:.5rem;padding-bottom:.3rem;vertical-align:bottom}#burger label{cursor:pointer}#burger label:hover{color:var(--main-text-color)}#nav-icons{padding-left:1rem}#nav-icons img{height:20px;margin:0;padding:0}#l1-val{position:relative;top:-.12rem}#l2-val{position:relative;top:-.2rem;padding-left:.1rem;padding-right:.1rem}#burger-cbox{display:none}#label-1{display:inline-block}#label-2{display:none}#burger-cbox:not(:checked)~#nav-icons{display:none}#burger-cbox:checked~#nav-icons{display:inline-block}#burger-cbox:checked~#label-1{display:none}#burger-cbox:checked~#label-2{display:inline-block;color:var(--main-text-color)}</style></head><body><div class=header><nav role=navigation><div id=burger><input type=checkbox id=burger-cbox autocomplete=off>
<label id=label-1 for=burger-cbox><span>[</span><span id=l1-val>+</span><span>]</span></label>
<label id=label-2 for=burger-cbox><span>[</span><span id=l2-val>x</span><span>]</span></label><div id=nav-icons><a href=/><img src=/icons/home_feather.svg alt="home page icon"></a>
<a href=/reading><img src=/icons/book.svg alt="reading icon"></a>
<a href=/nyc_biking><img src=/icons/bicycle.svg alt="biking page icon"></a>
<a href=/about><img src=/icons/user_feather.svg alt="about page icon"></a>
<a href=/index.xml><img src=/icons/rss_feather_black.svg alt="rss page icon"></a></div></div></nav></div><div class="container wrapper post"><div class=post-header><h1 class=title>Long Tiny Loop: Attempt #1</h1><div class=meta><a href=/>Nathan Rooy</a> | April 3, 2021</div></div><div class=markdown><h2 id=introduction>Introduction</h2><p>I’m not exactly sure how I initially came across <a target=_blank rel="noopener noreferrer" href=https://longtinyloop.com/>LongTinyLoop.com</a>, but all I know is that it checks all the right boxes for me. It involves bikes, maps, algorithms, and it’s a competition! So what is Long Tiny Loop? It’s a challenge to travel the longest path, while both minimizing the overall footprint and not breaking the following rules (taken directly <a target=_blank rel="noopener noreferrer" href=https://longtinyloop.com/faq>from here</a>):</p><ol><li>Neglecting to follow established roads and trails (e.g. running around a large empty field)</li><li>Returning to an intersection you’ve already passed through (even at an opposite corner)</li><li>Running the same section of road twice (even on opposite sides)</li><li>Excessive weaving (e.g. multiple unnecessary street crossings)</li><li>Ending the loop more than 100 meters from where it began</li></ol><p>Given this simple rule set, the results tend to yield some really interesting forms often resembling those derived from <a target=_blank rel="noopener noreferrer" href=https://en.wikipedia.org/wiki/Space-filling_curve>space-filling curves</a>.</p><style>@media only screen and (min-width:501px){.img-grid{display:grid;grid-template-columns:1fr 1fr;row-gap:.5em;column-gap:.5em}@media only screen and (max-width:500px){.img-grid{display:grid;grid-template-columns:1fr;row-gap:.5em;column-gap:.5em}}.img-grid img{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0}}</style><div class=img-grid><img width=100%; src=4234745753_300x300.png alt="long tiny loop by Daniel Aminzade in Mountain View, CA">
<img width=100%; src=4274168837_300x300.png alt="long tiny loop by Daniel Aminzade in Manhattan, NY">
<img width=100%; src=4404329253_300x300.png alt="long tiny loop by Jeff Shaffer in Portland, OR">
<img width=100%; src=4936423662_300x300.png alt="long tiny loop by J.L. de Jong in Cupertino, CA"></div><h2 id=path-design>Path design</h2><p>I created my initial route in <a target=_blank rel="noopener noreferrer" href=https://github.com/qgis/QGIS>QGIS</a> and was really just aiming for a first place position with a score greater than 30.0 and ideally a total distance of less than 70 miles. Not much time was spent optimizing the route other than trying to keep it roughly circular. I did end up writing a quick Python plugin for QGIS which allowed me to instantly calculate the path length, convex hull, <a target=_blank rel="noopener noreferrer" href=https://en.wikipedia.org/wiki/Rotating_calipers>rotating calipers distance</a>, and long tiny loop score for a selected path. I then made this accessible via a keyboard shortcut which helped me quickly iterate through potential designs. Ok, I may have spent a <i>little</i> time optimizing the route, but the whole thing took less than a single weekend… Anyway, the final route had a long tiny loop score of 30.2 and a length 66.7 miles.</p><h2 id=attempt-1>Attempt #1</h2><p>Once the design was finalized in QGIS, I exported the route to a <a target=_blank rel="noopener noreferrer" href=https://en.wikipedia.org/wiki/GPS_Exchange_Format>GPX</a> file so that it could be loaded into Google Maps. I then bought a phone mount for my handlebars for easy hands free navigation. It ended up working pretty good. Below is <a target=_blank rel="noopener noreferrer" href=https://www.strava.com/activities/5019364983>the path</a> as recorded by my phone via Strava.</p><img src=my-ltl-close.png style=width:650px;height:auto;aspect-ratio:1/1 alt="my long tiny loop gps path"><p>Just for some perspective, here&rsquo;s what it looks like from a slightly higher altitude which includes the rest of Brooklyn and the southern end of Manhattan</p><img src=my-ltl-far.svg style=width:650px;height:auto;aspect-ratio:1052/744 alt="my long tiny loop including lower manhattan"><p>Overall I was able to follow the route nearly perfectly, keyword here being <i>nearly</i>. Within the lower region of the route, there were two narrow back alleys I was planning on traversing however they were both blocked by a locked gate. I ended up getting super lucky in that I could simply cut these minor loops out of the overall path without too much of a penalty and without violating any of the long tiny loop rules. Annoyingly though, these two path deviations reduced my final score to 29.75 causing me to just fall short of my goal of getting a 30.0 or higher. 😞</p><img src=blocked-roads-650x400.png style=width:650px;aspect-ratio:650/400 alt="my long tiny loop with blocked road"><p>In the future, I&rsquo;ll make sure to check the route with Google Street View prior to actually going out! On second thought, I&rsquo;ll just limit the next path to actual roads instead. The anxiety that builds up after 4 hrs of tediously following a path and wondering if the next turn will jeopardize the entire operation is substantial. 😂</p><img src=ltl-screenshot.png style=width:650px;aspect-ratio:982/1036 alt="long tiny loop leader board"><h2 id=things-im-trying-next>Things I’m trying next</h2><p>There exists a massive body of literature on computing the shortest path for obvious reasons, the <i>longest path</i> though? Not so much… Actually, there is almost nothing I could find which makes this almost more fun. I’ve already coded out two approaches, one using a reverse <a target=_blank rel="noopener noreferrer" href=https://nathanrooy.github.io/posts/2020-05-14/simulated-annealing-with-python/>simulated annealing</a> method and the other is a genetic/evolutionary scheme. Both are producing decent results but I can already tell that they’ll need some work. Given the nature of this problem, the search space very quickly becomes intractable. A way to accurately and efficiently eliminate large swaths of the domain will be needed to suppress the combinatorial explosion that inevitably happens. Could this finally be the excuse I’ve been looking for to fall down a <a target=_blank rel="noopener noreferrer" href=https://github.com/dmlc/dgl>geometric deep learning</a> rabbit hole?
🤞😈🤞</p><p>I&rsquo;ve also noticed that the paths generated via algorithmic means tend to include <i>way</i> more turning. Since I don&rsquo;t currently price in turning, it&rsquo;s not seen as a liability or the potential time suck they can be. Depending on traffic, I don&rsquo;t usually stop at intersections, but those left-hand turns across large intersections do add up. There is a definite tradeoff between path complexity and speed/mental state. A sub-optimal route with less turning might actually be optimal&mldr; Anyway, I do know that my next Long Tiny Loop attempt will start in the evening and go into the early morning when the city is quiet and the roads are empty.</p><p>Thanks for reading!</p><p>- Nathan</p></div><div class=separator><ul class=flat><li><a onclick="plausible('home-icon',{props:{method:'Long Tiny Loop: Attempt #1'}})" href=/><img style=min-width:30px;position:relative;top:5px;width:20px;height:20px src=/icons/home_feather.svg alt="home page icon"></a></li><li><a onclick="plausible('about-icon',{props:{method:'Long Tiny Loop: Attempt #1'}})" href=/about><img style=min-width:30px;position:relative;top:5px;width:20px;height:20px src=/icons/user_feather.svg alt="about page icon"></a></li><li><a onclick="plausible('rss-icon',{props:{method:'Long Tiny Loop: Attempt #1'}})" href=/index.xml target=_blank><img style=min-width:30px;position:relative;top:5px;width:20px;height:20px src=/icons/rss_feather_black.svg alt="rss page icon"></a></li></ul></div></div><footer><center>&copy; <a href=/about>Nathan A. Rooy</a>.<br>Built with <a target=_blank rel="noopener noreferrer" href=https://gohugo.io/>Hugo</a>.
Powered by <a target=_blank rel="noopener noreferrer" href=http://www.github.com>GitHub</a></center></footer></body></html>