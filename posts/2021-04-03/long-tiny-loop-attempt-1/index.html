<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=author content="Nathan Rooy"><meta name=copyright content="Nathan A. Rooy"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=language content="en"><meta http-equiv=content-language content="en-gb"><link rel=icon type=image/png href=/favicon/favicon.png><meta name=google-site-verification content="vQ6uvoBDOPVq7u67m2fO8RWaxcqsoLrLzmR7CzEo-0k"><meta name=msvalidate.01 content="4903EB9C7ABD70347352DCFAEE0751F5"><meta name=yandex-verification content="d0b7b29586e133fc"><script async defer data-domain=nathanrooy.github.io src=https://plausible.io/js/plausible.js></script><title>Long Tiny Loop: Attempt #1</title><link rel=canonical href=https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/ itemprop=url><base href=https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/><meta itemprop=name content="Long Tiny Loop: Attempt #1 | Nathan Rooy"><meta itemprop=description content="My first attempt at Long Tiny Loop"><meta name=description content="My first attempt at Long Tiny Loop"><meta name=application-name content="Long Tiny Loop: Attempt #1 | Nathan Rooy"><meta name=keywords content="longtinyloop,long tiny loop,biking,maps"><meta name=twitter:card content="nathanrooy.github.io"><meta name=twitter:url content="https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/"><meta name=twitter:title content="Long Tiny Loop: Attempt #1 | Nathan Rooy"><meta name=twitter:description content="My first attempt at Long Tiny Loop"><meta property="og:title" content="Long Tiny Loop: Attempt #1"><meta property="og:description" content="My first attempt at Long Tiny Loop"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:url" content="https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/"><meta property="og:site_name" content="nathanrooy.github.io"><meta itemprop=image content="https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/my-ltl-close.png"><meta property="og:image" content="https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/my-ltl-close.png"><meta name=twitter:image content="https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/my-ltl-close.png"><meta name=twitter:image:src content="https://nathanrooy.github.io/posts/2021-04-03/long-tiny-loop-attempt-1/my-ltl-close.png"><link rel=alternate type=application/rss+xml href=https://nathanrooy.github.io/index.xml title="Nathan Rooy"><link rel=stylesheet type=text/css media=screen href=https://nathanrooy.github.io/css/normalize.min.02d927c3d7aee93f4557abffff0169f2c90a749e49700a80350d5b3f2911e20a.css><link rel=stylesheet type=text/css media=screen href=https://nathanrooy.github.io/css/main.min.a7649174320f504c334fdd4f63ad5c1fb3d88ea790178366d1624695a7baba95.css></head><body><div class="container wrapper post"><div class=header><div style=width:100%;display:inline class=site-title><a style=display:inline href=https://nathanrooy.github.io/>Nathan Rooy</a>
<a style=float:right;padding-left:10px;display:inline target=_blank href=/index.xml title=rss><img style=display:inline;margin:0;vertical-align:bottom src=/icons/rss_feather.svg width=20 height=20 alt="rss icon"></a>
<a style=float:right;padding-left:10px;display:inline target=_blank rel="noopener noreferrer" href=https://github.com/nathanrooy/ title=github><img style=display:inline;margin:0;vertical-align:bottom src=/icons/github_feather.svg width=20 height=20 alt="github page icon"></a></div><hr style=width:100%;display:inline-block><nav class=nav><ul class=flat><li style=text-align:center;vertical-align:top><a href=/><img style=margin:0;padding:0;width:20px;height:20px src=/icons/home_feather.svg alt="home page icon"></a></li><li style=text-align:center;vertical-align:top><a href=/about><img style=margin:0;padding:0;width:20px;height:20px src=/icons/user_feather.svg alt="about page icon"></a></li><li style=text-align:center;vertical-align:top><a href=/nyc_biking><img style=margin:0;padding:0;width:35px;height:20px src=/icons/bicycle.svg alt="biking page icon"></a></li><li><a href=/favorites><img style=margin:0;padding:0;width:20px;height:20px src=/icons/trending-up_feather.svg alt="personal favorites icon"></a></li></ul></nav></div><div class=post-header><h1 class=title>Long Tiny Loop: Attempt #1</h1><div class=meta>Posted: April 3, 2021</div></div><div class=markdown><h2 id=introduction>Introduction</h2><p>Iâ€™m not exactly sure how I initially came across <a target=_blank rel="noopener noreferrer" href=https://longtinyloop.com/>LongTinyLoop.com</a>, but all I know is that it checks all the right boxes for me. It involves bikes, maps, algorithms, and itâ€™s a competition! So what is Long Tiny Loop? Itâ€™s a challenge to travel the longest path, while both minimizing the overall footprint and not breaking the following rules (taken directly <a target=_blank rel="noopener noreferrer" href=https://longtinyloop.com/faq>from here</a>):</p><ol><li>Neglecting to follow established roads and trails (e.g. running around a large empty field)</li><li>Returning to an intersection youâ€™ve already passed through (even at an opposite corner)</li><li>Running the same section of road twice (even on opposite sides)</li><li>Excessive weaving (e.g. multiple unnecessary street crossings)</li><li>Ending the loop more than 100 meters from where it began</li></ol><p>Given this simple rule set, the results tend to yield some really interesting forms often resembling those derived from <a target=_blank rel="noopener noreferrer" href=https://en.wikipedia.org/wiki/Space-filling_curve>space-filling curves</a>.</p><style>@media only screen and (min-width:501px){.img-grid{display:grid;grid-template-columns:1fr 1fr;row-gap:.5em;column-gap:.5em}@media only screen and (max-width:500px){.img-grid{display:grid;grid-template-columns:1fr;row-gap:.5em;column-gap:.5em}}.img-grid img{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0}}</style><div class=img-grid><img width=100%; src=4234745753_300x300.png alt="long tiny loop by Daniel Aminzade in Mountain View, CA">
<img width=100%; src=4274168837_300x300.png alt="long tiny loop by Daniel Aminzade in Manhattan, NY">
<img width=100%; src=4404329253_300x300.png alt="long tiny loop by Jeff Shaffer in Portland, OR">
<img width=100%; src=4936423662_300x300.png alt="long tiny loop by J.L. de Jong in Cupertino, CA"></div><h2 id=path-design>Path design</h2><p>I created my initial route in <a target=_blank rel="noopener noreferrer" href=https://github.com/qgis/QGIS>QGIS</a> and was really just aiming for a first place position with a score greater than 30.0 and ideally a total distance of less than 70 miles. Not much time was spent optimizing the route other than trying to keep it roughly circular. I did end up writing a quick Python plugin for QGIS which allowed me to instantly calculate the path length, convex hull, <a target=_blank rel="noopener noreferrer" href=https://en.wikipedia.org/wiki/Rotating_calipers>rotating calipers distance</a>, and long tiny loop score for a selected path. I then made this accessible via a keyboard shortcut which helped me quickly iterate through potential designs. Ok, I may have spent a <i>little</i> time optimizing the route, but the whole thing took less than a single weekendâ€¦ Anyway, the final route had a long tiny loop score of 30.2 and a length 66.7 miles.</p><h2 id=attempt-1>Attempt #1</h2><p>Once the design was finalized in QGIS, I exported the route to a <a target=_blank rel="noopener noreferrer" href=https://en.wikipedia.org/wiki/GPS_Exchange_Format>GPX</a> file so that it could be loaded into Google Maps. I then bought a phone mount for my handlebars for easy hands free navigation. It ended up working pretty good. Below is <a target=_blank rel="noopener noreferrer" href=https://www.strava.com/activities/5019364983>the path</a> as recorded by my phone via Strava.</p><img src=my-ltl-close.png style=width:650px;height:auto;aspect-ratio:1/1 alt="my long tiny loop gps path"><p>Just for some perspective, here&rsquo;s what it looks like from a slightly higher altitude which includes the rest of Brooklyn and the southern end of Manhattan</p><img src=my-ltl-far.svg style=width:650px;height:auto;aspect-ratio:1052/744 alt="my long tiny loop including lower manhattan"><p>Overall I was able to follow the route nearly perfectly, keyword here being <i>nearly</i>. Within the lower region of the route, there were two narrow back alleys I was planning on traversing however they were both blocked by a locked gate. I ended up getting super lucky in that I could simply cut these minor loops out of the overall path without too much of a penalty and without violating any of the long tiny loop rules. Annoyingly though, these two path deviations reduced my final score to 29.75 causing me to just fall short of my goal of getting a 30.0 or higher. ðŸ˜ž</p><img src=blocked-roads-650x400.png style=width:650px;aspect-ratio:650/400 alt="my long tiny loop with blocked road"><p>In the future, I&rsquo;ll make sure to check the route with Google Street View prior to actually going out! On second thought, I&rsquo;ll just limit the next path to actual roads instead. The anxiety that builds up after 4 hrs of tediously following a path and wondering if the next turn will jeopardize the entire operation is substantial. ðŸ˜‚</p><img src=ltl-screenshot.png style=width:650px;aspect-ratio:982/1036 alt="long tiny loop leader board"><h2 id=things-im-trying-next>Things Iâ€™m trying next</h2><p>There exists a massive body of literature on computing the shortest path for obvious reasons, the <i>longest path</i> though? Not so muchâ€¦ Actually, there is almost nothing I could find which makes this almost more fun. Iâ€™ve already coded out two approaches, one using a reverse <a target=_blank rel="noopener noreferrer" href=https://nathanrooy.github.io/posts/2020-05-14/simulated-annealing-with-python/>simulated annealing</a> method and the other is a genetic/evolutionary scheme. Both are producing decent results but I can already tell that theyâ€™ll need some work. Given the nature of this problem, the search space very quickly becomes intractable. A way to accurately and efficiently eliminate large swaths of the domain will be needed to suppress the combinatorial explosion that inevitably happens. Could this finally be the excuse Iâ€™ve been looking for to fall down a <a target=_blank rel="noopener noreferrer" href=https://github.com/dmlc/dgl>geometric deep learning</a> rabbit hole?
ðŸ¤žðŸ˜ˆðŸ¤ž</p><p>I&rsquo;ve also noticed that the paths generated via algorithmic means tend to include <i>way</i> more turning. Since I don&rsquo;t currently price in turning, it&rsquo;s not seen as a liability or the potential time suck they can be. Depending on traffic, I don&rsquo;t usually stop at intersections, but those left-hand turns across large intersections do add up. There is a definite tradeoff between path complexity and speed/mental state. A sub-optimal route with less turning might actually be optimal&mldr; Anyway, I do know that my next Long Tiny Loop attempt will start in the evening and go into the early morning when the city is quiet and the roads are empty.</p><p>Thanks for reading!</p><p>- Nathan</p></div><div class=post-hr><hr></div></div><div class=footer><center>&copy; <a href=/about>Nathan A. Rooy</a>.<br>Built with <a target=_blank rel="noopener noreferrer" href=https://gohugo.io/>Hugo</a>.
Powered by <a target=_blank rel="noopener noreferrer" href=http://www.github.com>GitHub</a></center></div></body></html>