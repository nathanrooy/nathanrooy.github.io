<html lang=en><head><meta charset=utf-8><title>Nathan Rooy</title><meta content="Nathan Rooy" name=author><meta content=en name=language><meta content="width=device-width,minimum-scale=1" name=viewport><meta content=nathan.fun property=og:site_name><meta content=nathan.fun property=twitter:domain><meta content=article property=og:type><meta content=https://nathan.fun/posts/2016-07-08/the-riddler/ property=og:url><meta content=https://nathan.fun/posts/2016-07-08/the-riddler/ name=twitter:url><meta content="Nathan A. Rooy" name=copyright><meta content=summary_large_image name=twitter:card><meta content=fivethirtyeight,python name=keywords><meta content="FiveThirtyEight: The Riddler (2016-July-08)" name=twitter:title><meta content="FiveThirtyEight: The Riddler (2016-July-08)" property=og:title><meta content="Archvillain Laser Larry threatens to imminently zap Riddler Headquarters!" name=description><meta content="Archvillain Laser Larry threatens to imminently zap Riddler Headquarters!" name=twitter:description><meta content="Archvillain Laser Larry threatens to imminently zap Riddler Headquarters!" property=og:description><meta content=https://nathan.fun/posts/2016-07-08/the-riddler/05-tiny.png name=twitter:image><meta content=https://nathan.fun/posts/2016-07-08/the-riddler/05-tiny.png property=og:image><meta content=https://nathan.fun/posts/2016-07-08/the-riddler/05-tiny.png name=thumbnail><link title="Nathan Rooy" href=https://nathan.fun/index.xml rel=alternate type=application/rss+xml><link href=/favicon/favicon.png rel=icon type=image/png><link as=font crossorigin href=/fonts/figtree-v1-latin-regular.woff2 rel=preload type=font/woff2><link href=https://nathan.fun/posts/2016-07-08/the-riddler/ rel=canonical><link href=https://raw.githubusercontent.com/nathanrooy/feedly-opml-archiver/refs/heads/main/feedly.opml rel=blogroll type=text/xml><script data-domain=nathan.fun defer src=https://plausible.io/js/script.tagged-events.js></script><style>:root{--main-text-color:#222;--main-text-weight:400;--text-bold:600;--font-family:"Figtree",sans-serif;--background-light:#f5f5f5;--link-text-color:#0955b5;--dark-text-color:#999}html{font-size:16px}body{-webkit-font-smoothing:antialiased;font-family:var(--font-family);color:var(--main-text-color);font-weight:var(--main-text-weight)}.wrapper{max-width:660px;margin:6rem auto 0;padding:1rem}@media only screen and (width<=750px){.wrapper{margin-top:2.5rem;margin-left:0}}a{color:var(--link-text-color);text-decoration:none}::selection{text-shadow:none;background:#fff9c4}img{max-width:100%;margin:1.5em auto;display:block}@font-face{font-family:Figtree;font-style:normal;font-weight:400;font-display:swap;src:url(/fonts/figtree-v1-latin-regular.eot);src:local(""),url(/fonts/figtree-v1-latin-regular.eot?#iefix)format("embedded-opentype"),url(/fonts/figtree-v1-latin-regular.woff2)format("woff2"),url(/fonts/figtree-v1-latin-regular.woff)format("woff"),url(/fonts/figtree-v1-latin-regular.ttf)format("truetype"),url(/fonts/figtree-v1-latin-regular.svg#Figtree)format("svg")}@font-face{font-family:Figtree;font-style:normal;font-weight:600;font-display:swap;src:url(/fonts/figtree-v1-latin-600.eot);src:local(""),url(/fonts/figtree-v1-latin-600.eot?#iefix)format("embedded-opentype"),url(/fonts/figtree-v1-latin-600.woff2)format("woff2"),url(/fonts/figtree-v1-latin-600.woff)format("woff"),url(/fonts/figtree-v1-latin-600.ttf)format("truetype"),url(/fonts/figtree-v1-latin-600.svg#Figtree)format("svg")}.wrapper{padding-bottom:8rem}p{letter-spacing:.01rem;word-spacing:.025rem;margin:0 0 1rem;font-size:1rem;line-height:1.7rem}h1{font-weight:var(--main-text-weight);color:var(--main-text-color);font-size:2.3rem;line-height:2.64rem}hr{height:1px;color:var(--main-text-color);background-color:var(--main-text-color);border:none;margin:4rem 0}@media only screen and (width>=751px){#burger{padding-top:2rem;padding-left:2rem}}@media only screen and (width<=750px){#burger{padding-top:1rem;padding-left:1rem}}#burger{font-family:var(--font-family);color:#a9a9a9;font-size:1.5rem;font-weight:400}#burger a{padding-right:.8rem;display:inline-block}#burger label{cursor:pointer}#nav-icons{padding-left:.8rem}#nav-icons svg{max-height:20px;color:var(--main-text-color);margin-bottom:-.05rem}#l1-val{position:relative;top:-.12rem}#l2-val{padding-left:.1rem;padding-right:.1rem;position:relative;top:-.2rem}#burger-cbox{display:none}#label-1{display:inline-block}#label-2,#burger-cbox:not(:checked)~#nav-icons{display:none}.TLDR{font-size:1.1rem}figure{text-align:center;margin:0}.post .post-header{margin-bottom:2.5rem}.post .post-header .title{margin:0}.post blockquote{background-color:var(--background-light);border-color:#2dad60;border-left-style:solid;border-left-width:10px;margin:0 0 1rem;padding:1.5rem;font-size:15px;line-height:1.5rem}.math-block{margin-top:2rem;margin-bottom:2rem}mtext{position:absolute;right:0}.highlight pre{word-wrap:normal;white-space:pre;padding:20px;overflow:auto;background-color:#0000!important}.highlight{background:0 0;background-color:var(--background-light)}</style><link crossorigin href=https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css integrity=sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+ rel=stylesheet></head><body><div class=header><nav><div id=burger><input id=burger-cbox type=checkbox><label for=burger-cbox id=label-1><span>[</span><span id=l1-val>+</span><span>]</span></label><label for=burger-cbox id=label-2><span>[</span><span id=l2-val>x</span><span>]</span></label><div id=nav-icons><a class="plausible-event-name=burger+home" aria-label=Home href=/ style=padding-right:.7rem><svg class="feather feather-home" viewbox="0 0 24 24" fill=none height=24 id=home-icon stroke=currentcolor stroke-linecap=round stroke-linejoin=round stroke-width=1 width=24><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg></a><a class="plausible-event-name=burger+reading" aria-label=Reading href=/reading><svg viewbox="0 0 23.809855 18.892912" height=24 id=svg5 width=24><defs id=defs2></defs><g id=layer1 transform=translate(-6.352941,-30.26865)><g id=g39 transform=matrix(0.26458333,0,0,0.26458333,5.0300244,26.48677)><path d="m92.22 22.9v59C74.24 76.35 61.26 78.85 54.73 81.04 59.2 76.64 68.54 70.55 84.16 74.14l1.69.39V21.42c2.17.29 4.3.77 6.37 1.48z" class=st0 id=path11></path><path d="M45.24 81.04C38.73 78.85 25.74 76.35 7.77 81.9v-59c2.06-.71 4.2-1.19 6.37-1.48v53.11l1.68-.39c15.61-3.58 24.96 2.5 29.42 6.9z" class=st0 id=path13></path><polygon points="48.86,85.63 48.82,85.58 48.91,85.63" id=polygon15></polygon><polygon points="51.17,85.58 51.13,85.63 50,85.63 51.09,85.62" id=polygon17></polygon><path d="m94.09 20.63c-2.68-1-5.45-1.65-8.24-2.02v-2.94l-1.08-.24c-17.8-4.09-28.32 3.81-32.9 8.68-.81.87-1.44 1.63-1.88 2.22C49.54 25.74 48.91 24.98 48.1 24.11c-4.58-4.87-15.11-12.76-32.9-8.68l-1.07.24v2.94c-2.8.38-5.57 1.02-8.24 2.02L5 20.97V85.7l1.81-.61c13.49-4.49 24.13-4.16 30.68-3.08 7.09 1.15 11.05 3.4 11.09 3.42l.23.14.09.06H50l1.09-.01.08-.05.23-.14c.05-.02 4-2.27 11.09-3.42 6.55-1.08 17.19-1.41 30.68 3.08l1.82.61V20.97zM7.78 81.89v-59c2.06-.71 4.2-1.19 6.37-1.48v53.11l1.68-.39c15.61-3.58 24.95 2.5 29.42 6.9-6.52-2.18-19.5-4.68-37.47.86zm40.76-1.3c-4.19-4.66-14.29-12.83-31.63-9.5v-53.2c11.11-2.28 18.93.38 24.02 3.66 2.6 1.68 4.48 3.52 5.71 4.95 1.14 1.32 1.73 2.28 1.82 2.43l.08.15zm2.76.17V29.34l.24-.4c.09-.16.68-1.12 1.82-2.44 1.23-1.43 3.11-3.27 5.71-4.94 5.08-3.29 12.91-5.95 24.02-3.67v53.2C65.54 67.72 55.4 76.13 51.3 80.76zm40.92 1.13C74.24 76.34 61.26 78.84 54.73 81.03 59.2 76.63 68.54 70.54 84.16 74.13l1.69.39v-53.1c2.16.29 4.3.77 6.37 1.48z" id=path19></path></g></g><style id=style9>.st0{fill:none}</style></svg> </a><a aria-label="NYC Bike Exploring" class="plausible-event-name=burger+nycbike" href=/bike-exploring/nyc style=margin-left:.4rem><svg viewbox="0 0 91.5 52.5" height=24 width=32><g transform=matrix(-1,0,0,1,95.8,-23.9)><path d="m78 40.6c-3.8.0-7.3 1.2-10.2 3.2l-7.4-9.4 2.9-8.5H67c.6.0 1-.4 1-1s-.4-1-1-1H54.8c-.6.0-1 .4-1 1s.4 1 1 1h6.3l-2.3 6.7c-.2-.2-.4-.3-.7-.3H32l2.2-6.4h5.7c.6.0 1-.4 1-1s-.4-1-1-1h-6.4c-.4.0-.8.3-.9.7l-5.7 16.8c-1.5-.4-3.1-.7-4.8-.7-9.8.0-17.8 8-17.8 17.8s8 17.8 17.8 17.8 17.8-8 17.8-17.8c0-7.5-4.6-13.9-11.2-16.5l2.6-7.6 19 24.4c.1.3.3.6.6.7.1.0.2.1.3.1h.1 8.9c.5 9.4 8.3 16.8 17.8 16.8 9.8.0 17.8-8 17.8-17.8s-8-18-17.8-18zM37.8 58.4c0 8.7-7.1 15.8-15.8 15.8S6.2 67.1 6.2 58.4 13.3 42.6 22 42.6c1.4.0 2.8.2 4.1.6L21 58.1c-.2.5.1 1.1.6 1.3.1.0.2.1.3.1.4.0.8-.3.9-.7l5.1-14.9c5.9 2.2 9.9 7.9 9.9 14.5zm29.7-11.8L76 57.4H62.2c.3-4.3 2.2-8.1 5.3-10.8zm-16.7 9.6-17.1-22h24l.4.5zm1.8 1.2 7.1-20.8 6.6 8.4c-3.5 3.1-5.7 7.4-6 12.4zM78 74.2c-8.4.0-15.2-6.6-15.8-14.8H78c.4.0.7-.2.9-.6.2-.3.1-.8-.1-1.1L69 45.4c2.5-1.8 5.6-2.8 8.9-2.8 8.7.0 15.8 7.1 15.8 15.8s-7 15.8-15.7 15.8z"></path></g></svg></a><a class="plausible-event-name=burger+about" aria-label=About href=/about><svg class="feather feather-user" viewbox="0 0 24 24" fill=none height=24 id=about-icon stroke=currentcolor stroke-linecap=round stroke-linejoin=round stroke-width=1 width=24><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"></path><circle cx=12 cy=7 r=4></circle></svg> </a><a class="plausible-event-name=burger+rss" aria-label=RSS href=/index.xml><svg class="feather feather-rss" viewbox="0 0 30 24" fill=none height=24 id=rss-icon stroke=#444 stroke-linecap=round stroke-linejoin=round stroke-width=1.5 width=24><path d="M4 11a9 9 0 019 9"></path><path d="M4 4a16 16 0 0116 16"></path><circle cx=5 cy=19 r=1></circle></svg></a></div></div></nav></div><div class="wrapper post"><div class=post-header><h1 class=title>FiveThirtyEight: The Riddler (2016-July-08)</h1></div><p class=TLDR><strong>TL;DR</strong> - Archvillain Laser Larry threatens to imminently zap Riddler Headquarters!</p><hr><div class=markdown><p>I hate puzzles, but for some reason I find the Riddler from FiveThirtyEight more addicting than Flavor Blasted Goldfish. Anyway, I decided to post my solution for this week. Below is the question:</p><blockquote>The archvillain Laser Larry threatens to imminently zap Riddler Headquarters (which, seen from above, is shaped like a regular pentagon with no courtyard or other funny business). He plans to do it with a high-powered, vertical planar ray that will slice the building exactly in half by area, as seen from above. The building is quickly evacuated, but not before in-house mathematicians move the most sensitive riddling equipment out of the places in the building that have an extra high risk of getting zapped.<br><br><i>Where are those places</i>, and how much riskier are they than the safest spots? (It’s fine to describe those places qualitatively.)</blockquote><p>Doesn’t seem too difficult right? Well first things first, lets create a pentagon about the origin [0,0] and calculate its area.</p><figure><center><img src=01-tiny.png></center></figure><p>Using the length of one of its edges (a), we can calculate the total pentagon area using:</p><div class=math-block><span class=katex><math display=block xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>a</mi><mi>r</mi><mi>e</mi><mi>a</mi><mo>=</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><msqrt><mrow><mn>5</mn><mo stretchy=false>(</mo><mn>5</mn><mo>+</mo><mn>2</mn><msqrt><mn>5</mn></msqrt><mo stretchy=false>)</mo></mrow></msqrt><mtext> </mtext><msup><mi>a</mi><mn>2</mn></msup></mrow><annotation encoding=application/x-tex> area = \frac{1}{4}\sqrt{5(5+2\sqrt{5})}\ a^2 </annotation></semantics></math></span></div><p>Since every edge <span class=katex><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>a</mi><mo>=</mo><mn>1.17557050458</mn></mrow><annotation encoding=application/x-tex> a=1.17557050458 </annotation></semantics></math></span>, the total pentagon area is: <span class=katex><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>a</mi><mi>r</mi><mi>e</mi><mi>a</mi><mo>=</mo><mn>2.37764129074</mn></mrow><annotation encoding=application/x-tex> area=2.37764129074 </annotation></semantics></math></span>. Next we need to divide the perimeter into individual points where the laser will begin its cut. And because I don’t want to spend all day working this, I’m only going to choose a single edge. Doing it this way should allow me to simply rotate the results about the origin for a final solution.</p><figure><center><img src=02-tiny.png></center></figure><p>I only created twenty cut points, but this is only for visualization. I will bump that number up to several hundred for the final run.</p><p>Next we need to figure out where on the other sides of the pentagon the laser must cross in order to split the pentagon into two equal area halves.</p><figure><center><img src=03.gif></center></figure><p>This was accomplished by creating a series of triangles and optimizing them using <a href=https://en.wikipedia.org/wiki/Powell%27s_method target=_blank>Powell’s method</a>. The cost function for this optimization was simple; the area of the colored triangles must equal exactly one half of the total pentagon area. Below is a quick animation showing the optimization.</p><figure><center><img src=04.gif></center></figure><p>Now that the hard part is over, we can increase the number of cut points and lower the alpha channel.</p><figure><center><img src=05-tiny.png></center></figure><p>Rotating the results four more times about the origin results in the final solution seen below. The star pattern emerges because not every cut crosses the centroid of the pentagon.</p><figure><center><img src=06-tiny.png></center></figure><p>Darker areas represent locations where the laser is crossing more frequently. Therefore the equipment should be moved to the midpoint of each wall to minimize damage. I think…</p><p>Below is the code:</p><div class=highlight><pre style=-moz-tab-size:4;-o-tab-size:4;tab-size:4;background-color:#f0f3f3 tabindex=0><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#09f;font-style:italic>#------------------------------------------------------------------------------+</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#   The Riddler - July 8th, 2016</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#   FiveThirtyEight</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#</span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#------------------------------------------------------------------------------+</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#--- IMPORT DEPENDENCIES ------------------------------------------------------+</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>from</span> <span style=color:#0cf;font-weight:700>__future__</span> <span style=color:#069;font-weight:700>import</span> division
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>from</span> <span style=color:#0cf;font-weight:700>matplotlib</span> <span style=color:#069;font-weight:700>import</span> pyplot <span style=color:#069;font-weight:700>as</span> plt
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>from</span> <span style=color:#0cf;font-weight:700>scipy.optimize</span> <span style=color:#069;font-weight:700>import</span> minimize
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>from</span> <span style=color:#0cf;font-weight:700>math</span> <span style=color:#069;font-weight:700>import</span> sin,cos,radians,degrees,pi,sqrt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#------------------------------------------------------------------------------+</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># create a pentagon centered @ [0,0]</span>
</span></span><span style=display:flex><span>angles<span style=color:#555>=</span>[i <span style=color:#069;font-weight:700>for</span> i <span style=color:#000;font-weight:700>in</span> <span style=color:#366>range</span>(<span style=color:#f60>90</span>,<span style=color:#f60>450</span>,<span style=color:#f60>72</span>)]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>pentagon_pts<span style=color:#555>=</span>[]
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>for</span> i <span style=color:#000;font-weight:700>in</span> <span style=color:#366>range</span>(<span style=color:#366>len</span>(angles)):
</span></span><span style=display:flex><span>    x<span style=color:#555>=</span>cos(radians(angles[i]))
</span></span><span style=display:flex><span>    y<span style=color:#555>=</span>sin(radians(angles[i]))
</span></span><span style=display:flex><span>    pentagon_pts<span style=color:#555>.</span>append([x,y])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># calculate total area based on length of one side</span>
</span></span><span style=display:flex><span>a<span style=color:#555>=</span><span style=color:#366>abs</span>(pentagon_pts[<span style=color:#f60>2</span>][<span style=color:#f60>0</span>])<span style=color:#555>+</span><span style=color:#366>abs</span>(pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>0</span>])       <span style=color:#09f;font-style:italic># length of bottom edge</span>
</span></span><span style=display:flex><span>area_total<span style=color:#555>=</span><span style=color:#f60>0.25</span><span style=color:#555>*</span>sqrt(<span style=color:#f60>5.0</span><span style=color:#555>*</span>(<span style=color:#f60>5.0</span><span style=color:#555>+</span><span style=color:#f60>2.0</span><span style=color:#555>*</span>sqrt(<span style=color:#f60>5.0</span>)))<span style=color:#555>*</span>a<span style=color:#555>**</span><span style=color:#f60>2</span>      <span style=color:#09f;font-style:italic># total pentagon area</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># create perimeter points (on single edge only)</span>
</span></span><span style=display:flex><span>num_cuts<span style=color:#555>=</span><span style=color:#f60>200</span>
</span></span><span style=display:flex><span>delta_x<span style=color:#555>=</span>(pentagon_pts[<span style=color:#f60>1</span>][<span style=color:#f60>0</span>]<span style=color:#555>-</span>pentagon_pts[<span style=color:#f60>0</span>][<span style=color:#f60>0</span>])<span style=color:#555>/</span>num_cuts
</span></span><span style=display:flex><span>delta_y<span style=color:#555>=</span>(pentagon_pts[<span style=color:#f60>1</span>][<span style=color:#f60>1</span>]<span style=color:#555>-</span>pentagon_pts[<span style=color:#f60>0</span>][<span style=color:#f60>1</span>])<span style=color:#555>/</span>num_cuts
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cut_pts_x<span style=color:#555>=</span>[delta_x<span style=color:#555>*</span>i<span style=color:#555>+</span>pentagon_pts[<span style=color:#f60>0</span>][<span style=color:#f60>0</span>] <span style=color:#069;font-weight:700>for</span> i <span style=color:#000;font-weight:700>in</span> <span style=color:#366>range</span>(<span style=color:#f60>0</span>,num_cuts)]
</span></span><span style=display:flex><span>cut_pts_y<span style=color:#555>=</span>[delta_y<span style=color:#555>*</span>i<span style=color:#555>+</span>pentagon_pts[<span style=color:#f60>0</span>][<span style=color:#f60>1</span>] <span style=color:#069;font-weight:700>for</span> i <span style=color:#000;font-weight:700>in</span> <span style=color:#366>range</span>(<span style=color:#f60>0</span>,num_cuts)]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>def</span> <span style=color:#c0f>triangleArea</span>(points):
</span></span><span style=display:flex><span>    x_a<span style=color:#555>=</span>points[<span style=color:#f60>0</span>]
</span></span><span style=display:flex><span>    y_a<span style=color:#555>=</span>points[<span style=color:#f60>1</span>]
</span></span><span style=display:flex><span>    x_b<span style=color:#555>=</span>points[<span style=color:#f60>2</span>]
</span></span><span style=display:flex><span>    y_b<span style=color:#555>=</span>points[<span style=color:#f60>3</span>]
</span></span><span style=display:flex><span>    x_c<span style=color:#555>=</span>points[<span style=color:#f60>4</span>]
</span></span><span style=display:flex><span>    y_c<span style=color:#555>=</span>points[<span style=color:#f60>5</span>]
</span></span><span style=display:flex><span>    area<span style=color:#555>=</span><span style=color:#f60>0.5</span><span style=color:#555>*</span><span style=color:#366>abs</span>((x_a<span style=color:#555>-</span>x_c)<span style=color:#555>*</span>(y_b<span style=color:#555>-</span>y_a)<span style=color:#555>-</span>(x_a<span style=color:#555>-</span>x_b)<span style=color:#555>*</span>(y_c<span style=color:#555>-</span>y_a))
</span></span><span style=display:flex><span>    <span style=color:#069;font-weight:700>return</span> area
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># simulate laser cuts</span>
</span></span><span style=display:flex><span>laser_cuts_x<span style=color:#555>=</span>[]
</span></span><span style=display:flex><span>laser_cuts_y<span style=color:#555>=</span>[]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>for</span> i <span style=color:#000;font-weight:700>in</span> <span style=color:#366>range</span>(<span style=color:#366>len</span>(cut_pts_x)):
</span></span><span style=display:flex><span>    triangle1_plot<span style=color:#555>=</span>[]
</span></span><span style=display:flex><span>    triangle2_plot<span style=color:#555>=</span>[]
</span></span><span style=display:flex><span>    triangle3_plot<span style=color:#555>=</span>[]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic># cost function</span>
</span></span><span style=display:flex><span>    <span style=color:#069;font-weight:700>def</span> <span style=color:#c0f>testFunc</span>(x0):
</span></span><span style=display:flex><span>        <span style=color:#09f;font-style:italic>#--- triangle #1 ----------------------------------+</span>
</span></span><span style=display:flex><span>        area_tri_1<span style=color:#555>=</span>triangleArea([cut_pts_x[i],
</span></span><span style=display:flex><span>                                 cut_pts_y[i],
</span></span><span style=display:flex><span>                                 pentagon_pts[<span style=color:#f60>1</span>][<span style=color:#f60>0</span>],
</span></span><span style=display:flex><span>                                 pentagon_pts[<span style=color:#f60>1</span>][<span style=color:#f60>1</span>],
</span></span><span style=display:flex><span>                                 pentagon_pts[<span style=color:#f60>2</span>][<span style=color:#f60>0</span>],
</span></span><span style=display:flex><span>                                 pentagon_pts[<span style=color:#f60>2</span>][<span style=color:#f60>1</span>]])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#09f;font-style:italic>#--- triangle #2 ----------------------------------+</span>
</span></span><span style=display:flex><span>        area_tri_2<span style=color:#555>=</span>triangleArea([cut_pts_x[i],
</span></span><span style=display:flex><span>                                 cut_pts_y[i],
</span></span><span style=display:flex><span>                                 pentagon_pts[<span style=color:#f60>2</span>][<span style=color:#f60>0</span>],
</span></span><span style=display:flex><span>                                 pentagon_pts[<span style=color:#f60>2</span>][<span style=color:#f60>1</span>],
</span></span><span style=display:flex><span>                                 x0,
</span></span><span style=display:flex><span>                                 pentagon_pts[<span style=color:#f60>2</span>][<span style=color:#f60>1</span>]])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#09f;font-style:italic># check to make sure the new calculated piint is between the two bottom points</span>
</span></span><span style=display:flex><span>        <span style=color:#069;font-weight:700>if</span> x0<span style=color:#555>>=</span>pentagon_pts[<span style=color:#f60>2</span>][<span style=color:#f60>0</span>] <span style=color:#000;font-weight:700>and</span> x0<span style=color:#555>&lt;=</span>pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>0</span>]:
</span></span><span style=display:flex><span>            <span style=color:#069;font-weight:700>return</span> <span style=color:#366>abs</span>((area_tri_1<span style=color:#555>+</span>area_tri_2)<span style=color:#555>-</span>(<span style=color:#f60>0.5</span><span style=color:#555>*</span>area_total))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#09f;font-style:italic># if the calculated point goes beyond the bottom right point, recalculate using three triangles</span>
</span></span><span style=display:flex><span>        <span style=color:#069;font-weight:700>if</span> x0<span style=color:#555>></span>pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>0</span>]:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#09f;font-style:italic>#--- recalculate triangle area #2 -------------+</span>
</span></span><span style=display:flex><span>            area_tri_2<span style=color:#555>=</span>triangleArea([cut_pts_x[i],
</span></span><span style=display:flex><span>                                     cut_pts_y[i],
</span></span><span style=display:flex><span>                                     pentagon_pts[<span style=color:#f60>2</span>][<span style=color:#f60>0</span>],
</span></span><span style=display:flex><span>                                     pentagon_pts[<span style=color:#f60>2</span>][<span style=color:#f60>1</span>],
</span></span><span style=display:flex><span>                                     pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>0</span>],
</span></span><span style=display:flex><span>                                     pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>1</span>]])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#09f;font-style:italic>#--- triangle #3 ------------------------------+</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#09f;font-style:italic># calculate slope between points #3 and #4</span>
</span></span><span style=display:flex><span>            del_y<span style=color:#555>=</span>pentagon_pts[<span style=color:#f60>4</span>][<span style=color:#f60>1</span>]<span style=color:#555>-</span>pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>1</span>]
</span></span><span style=display:flex><span>            del_x<span style=color:#555>=</span>pentagon_pts[<span style=color:#f60>4</span>][<span style=color:#f60>0</span>]<span style=color:#555>-</span>pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>0</span>]
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            slope<span style=color:#555>=</span>del_y<span style=color:#555>/</span>del_x
</span></span><span style=display:flex><span>            y_c<span style=color:#555>=</span>pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>1</span>]<span style=color:#555>+</span>((x0<span style=color:#555>-</span>pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>0</span>])<span style=color:#555>*</span>slope)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#09f;font-style:italic># calculate new area for triangle #3</span>
</span></span><span style=display:flex><span>            area_tri_3<span style=color:#555>=</span>triangleArea([cut_pts_x[i],
</span></span><span style=display:flex><span>                                     cut_pts_y[i],
</span></span><span style=display:flex><span>                                     pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>0</span>],
</span></span><span style=display:flex><span>                                     pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>1</span>],
</span></span><span style=display:flex><span>                                     x0,
</span></span><span style=display:flex><span>                                     y_c])
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#09f;font-style:italic># calculate new cost func</span>
</span></span><span style=display:flex><span>            func<span style=color:#555>=</span><span style=color:#366>abs</span>((area_tri_1<span style=color:#555>+</span>area_tri_2<span style=color:#555>+</span>area_tri_3)<span style=color:#555>-</span>(<span style=color:#f60>0.5</span><span style=color:#555>*</span>area_total))
</span></span><span style=display:flex><span>            <span style=color:#069;font-weight:700>return</span> func
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>        <span style=color:#09f;font-style:italic># if point is less than the bottom right edge</span>
</span></span><span style=display:flex><span>        <span style=color:#069;font-weight:700>if</span> x0<span style=color:#555>&lt;</span>pentagon_pts[<span style=color:#f60>2</span>][<span style=color:#f60>0</span>]:
</span></span><span style=display:flex><span>            <span style=color:#069;font-weight:700>return</span> <span style=color:#f60>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic># optimize function to determine x_c</span>
</span></span><span style=display:flex><span>    xopt<span style=color:#555>=</span>minimize(testFunc,<span style=color:#f60>0</span>,method<span style=color:#555>=</span><span style=color:#c30>'Powell'</span>,options<span style=color:#555>=</span>{<span style=color:#c30>'disp'</span>:<span style=color:#069;font-weight:700>False</span>,<span style=color:#c30>'ftol'</span>: <span style=color:#f60>1e-10</span>,<span style=color:#c30>'maxiter'</span>:<span style=color:#f60>1000</span>})
</span></span><span style=display:flex><span>    <span style=color:#366>print</span> xopt<span style=color:#555>.</span>x
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#069;font-weight:700>if</span> pentagon_pts[<span style=color:#f60>2</span>][<span style=color:#f60>0</span>]<span style=color:#555>&lt;=</span>xopt<span style=color:#555>.</span>x <span style=color:#000;font-weight:700>and</span> xopt<span style=color:#555>.</span>x<span style=color:#555>&lt;=</span>pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>0</span>]:
</span></span><span style=display:flex><span>        y_c<span style=color:#555>=</span>pentagon_pts[<span style=color:#f60>2</span>][<span style=color:#f60>1</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#069;font-weight:700>if</span> xopt<span style=color:#555>.</span>x<span style=color:#555>></span>pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>0</span>]:
</span></span><span style=display:flex><span>        del_y<span style=color:#555>=</span>pentagon_pts[<span style=color:#f60>4</span>][<span style=color:#f60>1</span>]<span style=color:#555>-</span>pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>1</span>]
</span></span><span style=display:flex><span>        del_x<span style=color:#555>=</span>pentagon_pts[<span style=color:#f60>4</span>][<span style=color:#f60>0</span>]<span style=color:#555>-</span>pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>0</span>]
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>        slope<span style=color:#555>=</span>del_y<span style=color:#555>/</span>del_x
</span></span><span style=display:flex><span>        y_c<span style=color:#555>=</span>pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>1</span>]<span style=color:#555>+</span>((xopt<span style=color:#555>.</span>x<span style=color:#555>-</span>pentagon_pts[<span style=color:#f60>3</span>][<span style=color:#f60>0</span>])<span style=color:#555>*</span>slope)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic># save results</span>
</span></span><span style=display:flex><span>    laser_cuts_x<span style=color:#555>.</span>append(xopt<span style=color:#555>.</span>x)
</span></span><span style=display:flex><span>    laser_cuts_y<span style=color:#555>.</span>append(y_c)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># rotate results 72 degrees, four times about orgin [0,0]</span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>def</span> <span style=color:#c0f>rotate</span>(x,y,theta):
</span></span><span style=display:flex><span>    x_new<span style=color:#555>=</span>x<span style=color:#555>*</span>cos(radians(theta))<span style=color:#555>-</span>y<span style=color:#555>*</span>sin(radians(theta))
</span></span><span style=display:flex><span>    y_new<span style=color:#555>=</span>x<span style=color:#555>*</span>sin(radians(theta))<span style=color:#555>+</span>y<span style=color:#555>*</span>cos(radians(theta))
</span></span><span style=display:flex><span>    <span style=color:#069;font-weight:700>return</span> x_new,y_new
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>laserCuts_start_x_new<span style=color:#555>=</span><span style=color:#366>list</span>(cut_pts_x)
</span></span><span style=display:flex><span>laserCuts_start_y_new<span style=color:#555>=</span><span style=color:#366>list</span>(cut_pts_y)
</span></span><span style=display:flex><span>laserCuts_end_x_new<span style=color:#555>=</span><span style=color:#366>list</span>(laser_cuts_x)
</span></span><span style=display:flex><span>laserCuts_end_y_new<span style=color:#555>=</span><span style=color:#366>list</span>(laser_cuts_y)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>for</span> i <span style=color:#000;font-weight:700>in</span> <span style=color:#366>range</span>(<span style=color:#f60>1</span>,<span style=color:#f60>5</span>):
</span></span><span style=display:flex><span>    theta<span style=color:#555>=</span>i<span style=color:#555>*</span><span style=color:#f60>72</span>
</span></span><span style=display:flex><span>    <span style=color:#069;font-weight:700>for</span> j <span style=color:#000;font-weight:700>in</span> <span style=color:#366>range</span>(<span style=color:#366>len</span>(laser_cuts_x)):
</span></span><span style=display:flex><span>        x_1,y_1<span style=color:#555>=</span>rotate(cut_pts_x[j],cut_pts_y[j],theta)
</span></span><span style=display:flex><span>        x_2,y_2<span style=color:#555>=</span>rotate(laser_cuts_x[j],laser_cuts_y[j],theta)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        laserCuts_start_x_new<span style=color:#555>.</span>append(x_1)
</span></span><span style=display:flex><span>        laserCuts_start_y_new<span style=color:#555>.</span>append(y_1)
</span></span><span style=display:flex><span>        laserCuts_end_x_new<span style=color:#555>.</span>append(x_2)
</span></span><span style=display:flex><span>        laserCuts_end_y_new<span style=color:#555>.</span>append(y_2)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#--- PLOTTING -----------------------------------------------------------------+</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>for</span> i <span style=color:#000;font-weight:700>in</span> <span style=color:#366>range</span>(<span style=color:#366>len</span>(laserCuts_start_x_new)):
</span></span><span style=display:flex><span>    x_new<span style=color:#555>=</span>[]
</span></span><span style=display:flex><span>    y_new<span style=color:#555>=</span>[]
</span></span><span style=display:flex><span>    x_new<span style=color:#555>.</span>append(laserCuts_start_x_new[i])
</span></span><span style=display:flex><span>    x_new<span style=color:#555>.</span>append(laserCuts_end_x_new[i])
</span></span><span style=display:flex><span>    y_new<span style=color:#555>.</span>append(laserCuts_start_y_new[i])
</span></span><span style=display:flex><span>    y_new<span style=color:#555>.</span>append(laserCuts_end_y_new[i])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    plt<span style=color:#555>.</span>plot(x_new,y_new,<span style=color:#c30>'b'</span>,alpha<span style=color:#555>=</span><span style=color:#f60>0.03</span>,linewidth<span style=color:#555>=</span><span style=color:#f60>4</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>pentagon_pts<span style=color:#555>.</span>append(pentagon_pts[<span style=color:#f60>0</span>])
</span></span><span style=display:flex><span>x,y<span style=color:#555>=</span><span style=color:#366>zip</span>(<span style=color:#555>*</span>pentagon_pts)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>plt<span style=color:#555>.</span>plot(x,y,<span style=color:#c30>'k'</span>)                   <span style=color:#09f;font-style:italic># plot pentagon outline</span>
</span></span><span style=display:flex><span>plt<span style=color:#555>.</span>plot(<span style=color:#f60>0</span>,<span style=color:#f60>0</span>,<span style=color:#c30>'ro'</span>,markersize<span style=color:#555>=</span><span style=color:#f60>3</span>)     <span style=color:#09f;font-style:italic># plot point at origin</span>
</span></span><span style=display:flex><span>plt<span style=color:#555>.</span>axes()<span style=color:#555>.</span>set_aspect(<span style=color:#c30>'equal'</span>)
</span></span><span style=display:flex><span>plt<span style=color:#555>.</span>xlim([<span style=color:#555>-</span><span style=color:#f60>1.1</span>,<span style=color:#f60>1.1</span>])
</span></span><span style=display:flex><span>plt<span style=color:#555>.</span>ylim([<span style=color:#555>-</span><span style=color:#f60>1.1</span>,<span style=color:#f60>1.1</span>])
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>##plt.savefig('06-final.png',dpi=72)</span>
</span></span><span style=display:flex><span>plt<span style=color:#555>.</span>show()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>#--- END ----------------------------------------------------------------------+</span>
</span></span></code></pre></div><hr style=margin-top:3em;margin-bottom:2em><h1 class=entry-title style=color:#202020>Update: 2016-July-17</h1><p>Holy shit, <a href=http://fivethirtyeight.com/features/how-long-will-you-be-stuck-playing-this-bar-game/ style=font-weight:800 target=_blank>I won!</a></p><center><img style="border:2px solid gray;margin-bottom:2em" src=riddler-win-crop-tiny.png></center><p>Additionally, I added the code to my GitHub which can be download (<a href=https://github.com/nathanrooy/The-Riddler-FiveThirtyEight/blob/master/2016-07-08/main.py target=_blank>here</a>).</p></div></div></body></html>